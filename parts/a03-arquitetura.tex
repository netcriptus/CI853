%!TEX root = ./proposta3.tex


%Uma estrutura de \emph{cloud} envolve a comunicação entre inúmeros componentes de serviços web. Os usuários desta arquitetura não sabem e não precisam saber sobre a localização de seus dados ou as aplicações que desejem utilizar, porém precisam aceitar e dependem  dos níveis de segurança vigentes, que são tópicos preocupantes para os administradores. %A segurança em \emph{cloud} compreende as áreas de segurança de dados e da rede, segundo \cite{Dhage:2011:IDS:1980022.1980076}. 

% Enquanto um ataque em dados afeta um número restrito de usuários, um ataque na rede pode comprometer diversos usuários simultaneamente. Como ataques de DDos em uma \emph{cloud} compreendem um ataque à segurança em rede, eles são de importância crítica. Com a nova infraestrutura de recursos criada pelas \emph{clouds}, existe a possibilidade de se mover fisicamente uma aplicação para outro endereço quando ela é atacada por DDoS. Com isso, pode-se garantir tolerância à falhas e conservação de recursos despendidos, pois este novo endereço só será conhecido por solicitantes legítimos.

Este trabalho propõe uma arquitetura para mitigar ataques de DDoS em \emph{clouds} de forma autônoma e independente. A arquitetura proposta pode ser utilizada por qualquer aplicação web hospedada em uma \emph{cloud} que, ao sofrer indícios de um ataque DDoS, filtra o tráfego legítimo e encaminha apenas este para uma nova instância da mesma aplicação. 

Esta arquitetura, ilustrada na Figura \ref{fig:arq}, é composta por um módulo geral chamado de Gerenciador de Tráfego (GT), que não se comunica diretamente com a aplicação. Esse módulo possui os submódulos INA, GB, AT e RT. Além disso, a instância do banco de dados (BD) é exterior às demais instâncias da \emph{cloud}, visto que o banco de dados também está nas nuvens e pode ser acessado de qualquer outra instância \emph{cloud}. 
% GF virou GT XXXXX

\begin{figure}[t!]
  \centering
  \begin{minipage}[b]{0.59\linewidth}
    \centering
    \includegraphics[width=0.8\textwidth]{images/arq.eps}
	\caption{Arquitetura de mitigação de DDoS}
	\label{fig:arq}
  \end{minipage}
  \begin{minipage}[b]{0.4\linewidth}
    \centering
    \includegraphics[width=0.85\textwidth]{images/ddos-dir.pdf}
	\caption{Fluxo de tráfego}
	\label{fig:traf-ddos}
  \end{minipage}

\end{figure}


% \begin{figure}[h!]
% \centering
% \includegraphics[width=0.45\textwidth]{images/arq.eps}
% \caption{Arquitetura para mitigação de ataques DDoS}
% \label{fig:arq}
% \end{figure}

O submódulo AT observa o comportamento do tráfego de entrada para a aplicação de forma pró-ativa. Ele foca na estimativa de quantidade de tráfego e de processamento no servidor, e realiza medição para detectar a existência de um possível ataque DDoS. Caso um ataque seja detectado, o submódulo INA é ativado. O INA criará uma nova instância da aplicação em outro servidor na \emph{cloud}, consequentemente com um endereço IP diferente. %\footnote{Com a criação da nova instância da aplicação, a antiga é desativada. A primeira instância da \emph{cloud} servirá apenas para redirecionar o tráfego}.
O submódulo RT trata todo o tráfego de entrada, respondendo com um redirecionamento para a nova instância da aplicação, como visto na Figura~\ref{fig:traf-ddos}. O RT parte do princípio que os atacantes DDoS não interpretam as respostas obtidas do servidor, pois se interpretarem, sua eficiência é reduzida. Desta maneira, apenas os clientes legítimos (Nós \emph{C} na figura) serão, de fato, redirecionados à nova aplicação, enquanto os nós atacantes não passarão pelo RT.

Ao tentar redirecionar os clientes para a nova instância, o endereço do cliente, seja ele legítimo ou não, será adicionado em uma \emph{blacklist}. Os clientes presentes nesta lista têm suas requisições descartadas, a fim de reduzir o custo de processamento de respostas no servidor. Entretanto, como o cliente legítimo é informado do redirecionamento antes de seu endereço entrar na \emph{blacklist}, ele terá acesso à esta nova instância e poderá enviar uma nova requisição. Registros com tempo de validade são empregadas nesta \emph{blacklist}, dado que respostas podem ser perdidas. O tempo de validade na lista aumenta exponencialmente, para diminuir ainda mais a sobrecarga. Cabe ao GB, o papel de adicionar e gerenciar a saída de endereços de clientes à \emph{blacklist}, assim como o tempo de validade da entrada que aumenta exponencialmente.

% Contudo, para prevenir que este controle impeça o acesso de clientes legítimos nas próximas requisições, o cliente, ao ser direcionado para a nova instância, terá este endereço armazenado na forma de \emph{cookies} em sua máquina. Este procedimento garante que apenas clientes legítimos tenham conhecimento do novo endereço da aplicação, dado que atacantes de DDoS não irão manter \emph{cookies}. Por fim,  tal processo de reinstanciação de aplicação e redirecionamento de tráfego pode ser repetido recursivamente, até um dado número máximo de redirecionamentos.

% A Figura~\ref{fig:cen} ilustra um cenário sob ataque de DDoS, sendo que os clientes são representados pelos ícones dos diversos navegadores, e a nave é o logo da aplicação LOIC (\emph{Low Orbit Ion Cannon}). À esquerda, todos eles enviam seu tráfego para o que imaginam ser a instância da aplicação. Considerando um cenário sob ataque, a aplicação será replicada, e a sua instância original servirá para redirecionar o tráfego legítimo até a aplicação nova. À direita, é ilustrado o resultado do redirecionamento: clientes genuínos conseguem atingir a instância nova da aplicação, enquanto os atacantes mantém o ataque na antiga instância de \emph{cloud}, que agora opera apenas redirecionando tráfego.
% 
% 
% \begin{figure}[t!]
% 	\centering
% 	\includegraphics[width=0.40\textwidth]{images/an1.eps}
% 	% \caption{bla}
% 	\hskip 1cm
% 	\includegraphics[width=0.40\textwidth]{images/an2.eps}
% 	\caption{Comportamento do tráfego em um cenário sob ataque}
% 	\label{fig:cen}
% \end{figure}
